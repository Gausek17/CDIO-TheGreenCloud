<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>AdminSection</title>
    <link rel="stylesheet" type="text/css" href="css/estilo_parcelas.css">
    <link rel="stylesheet" type="text/css" href="css/estilo_menu.css">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <script src="js/sesion_permisos.js"></script>
</head>
<body>

<div class="container" id="container">
    <div id="mySidenav" class="sidenav">
        <!-- Nav generado en js-->
    </div>
    <header>

        <img onclick="openNav()" src="../imagenes/menu/iconMenu.png" alt="Menu" class="iconMenu">
        <img class="logoGTI" src="../imagenes/logoGTI.svg" onclick="location.href='../index.html'">
        <div class="divUsuario">
            <p id="textNombreUsuario">Nombre Usuario</p>

            <img src="../imagenes/parcelas/logout.svg" class="cerrar_sesion" alt="Icono Cerrar sesion"
                 onclick="deleteSesion()">
        </div>
    </header>
    <div class="divCentral">
        <nav id="navGeneral">
            <!-- Nav generado en js-->
        </nav>
        <div class="divContenido">
            <div class="panelActual" id="panelActual">
               <div class="titulo-sin-linea">
                   <img src="../imagenes/parcelas/IconoCampo-Black.png" alt="icono-parcelas"
                     class="iconParcelasSelected"> 
                     <p>Parcelas</p>
               </div>
                
                     <section id="linea-titulo"></section>
            </div>

            <div class="divSeleccionParcela">
                <div class="divTextSeleccionParcela">

                    <p class="textSeleccionParcela">Seleccione una parcela:</p>
                </div>
                <section class="seleccion">
                    <label><select id="selectParcelas" onchange="cambiarCentro()">
                    </select></label>
                </section>

                <section class="no-selectores-header">
                    <section><a href="graficasAdmin.html"><img src="../imagenes/parcelas/report.png"
                                                               alt="Icono gr치ficas" class="enlace-graficas"></a>
                    </section>
                </section>
            </div>

            <div class="divContenidoUser">
                <div id="map">

                </div>

            </div>
        </div>
    </div>
</div>
<script src="js/mapaParcelas.js"></script>

<script src="js/usuarioLogin.js"></script>
<script src="js/menuUser.js"></script>
<script src="js/sideNav.js"></script>

<script src="js/coordenadas.js"></script>
<script src="js/parcelas_select.js"></script>
<script src="js/usuarios_select.js"></script>
<script>

    VistaMenu.setNav("navGeneral");
    VistaMenu.crearNav();
    VistaMenu.setSideNav("mySidenav");
    VistaMenu.crearSideNav();
    //Se llamara una vez se haya cargado el mapa
    function iniciarCargaApp(){
        ModeloCoordenadasParcelaSelect.cargar();
        VistaUsuarioLogin.iniciar("textNombreUsuario");
        //Primer callback: Una vez se haya cargado la informacion relativa al usurio (SESION)
        //se har치 un callback a la funci칩n para inicir el selector de usuarios
        ControladorUsuarioLogin.iniciar(iniciarSelectParcelas);
    }
    function iniciarSelectParcelas(){
        VistaParcelasSelect.iniciar("selectParcelas");
        //Tercer callback: Un vez se hayan inciado la infomacion relativa a las parcelas
        //se pintaran las gr치ficas de la parcela seleccionada
        ControladorSelectParcelas.iniciar(dibujarParcelas);

    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?callback=initMap" async defer></script>
</body>
</html>